# 31884번 - Stacking Sticks


==========================

1 초

512 MB

213

153

134

74.033%

문제
--

사토리는 가로로 긴 $1 \\times 4$ 블럭과, 세로로 긴 $4 \\times 1$ 블럭을 쌓는 놀이를 하고 있다. 블럭이 떨어질 위치를 고르면 이 블럭은 그대로 수직 방향으로 떨어진다. 떨어지는 도중 블럭의 아래쪽 면의 일부분이 다른 블럭의 윗면 또는 바닥과 닿는다면, 블럭은 떨어지는 것을 멈춘다. 이때 좌우로 인접한 블럭끼리는 스쳐 지나갈 수 있다.

사토리를 위해, 여러분은 다음 쿼리를 처리하는 프로그램을 작성해야 한다.

*   $1\\ i:$ 가로로 긴 $1 \\times 4$ 블럭의 왼쪽 끝 칸이 $x = i$에 위치하게 블럭을 떨어뜨린다.
*   $2\\ i:$ 세로로 긴 $4 \\times 1$ 블럭이 $x = i$에 위치하게 블럭을 떨어뜨린다.
*   $3\\ i:$ $x = i$에 존재하는 블럭의 $y$좌표의 최댓값을 출력한다. 해당 $x$좌표에 블럭이 존재하지 않는다면 $0$을 출력한다.

입력
--

첫 번째 줄에 쿼리의 개수 $Q$가 주어진다. $(1 \\leq Q \\leq 150\\,000)$

두 번째 줄부터 $Q$개의 줄에 걸쳐 쿼리가 주어진다. $3$번 쿼리는 한 번 이상 주어진다. $(-10^9 \\leq i \\leq 10^9,\\ i$는 정수$)$

출력
--

$3$번 쿼리의 답을 한 줄에 하나씩 출력한다.

제한
--

예제 입력 1
-------

5
1 1
2 3
1 2
3 1
3 5

예제 출력 1
-------

1
6

예제 1에 대한 그림이다.

![](https://upload.acmicpc.net/43005fb8-3291-4d93-be9e-19779c843ddf/-/preview/)

힌트
--

출처
--

[University](/category/5) > [서강대학교](/category/83) > [2024 서강대학교 K512컵](/category/detail/4220) E번

*   문제를 검수한 사람: [alex9801](/user/alex9801), [hulahula3247](/user/hulahula3247), [jk410](/user/jk410), [lky7674](/user/lky7674)
*   문제를 만든 사람: [lem0nad3](/user/lem0nad3)